<section class="sectionNew">
  <ion-grid>
    <ion-searchbar class="color-primary" animated="true" placeholder="Buscar" (ionInput)="handleInput($event)"></ion-searchbar>
  </ion-grid>
</section>


<section class="sectionNew">
 <ion-grid>
  <ion-segment [scrollable]="true" id="open-loading" value="all" (ionChange)="segmentChanged($event)">
    <ion-segment-button value="all" >
      <ion-icon name="home"></ion-icon>
      <ion-label>Home</ion-label>
    </ion-segment-button>
    <ion-segment-button value="peliculas">
      <ion-icon name="videocam-outline"></ion-icon>
      <ion-label>Peliculas</ion-label>
    </ion-segment-button>
    <ion-segment-button value="series">
      <ion-icon name="aperture-outline"></ion-icon>
      <ion-label>Series</ion-label>
    </ion-segment-button>
    <ion-segment-button value="anime">
      <ion-icon name="ribbon-outline"></ion-icon>
      <ion-label>Anime</ion-label>
    </ion-segment-button>
    <ion-segment-button value="juegos">
      <ion-icon name="game-controller-outline"></ion-icon>
      <ion-label>Juegos</ion-label>
    </ion-segment-button>
    <ion-segment-button value="libros">
      <ion-icon name="book-outline"></ion-icon>
      <ion-label>Libros</ion-label>
    </ion-segment-button>
  </ion-segment>
</ion-grid>
<ion-loading class="custom-loading" trigger="open-loading" message="Loading..." [duration]="1500"></ion-loading>
</section>

<section class="sectionNew">
  <div id="main-content">
    <ion-item class="filtros">
      <ion-label> {{regNum}} resultados</ion-label>
      <ion-menu-toggle>
        <ion-icon size="large" name="filter-outline"></ion-icon>
      </ion-menu-toggle>
    </ion-item>
</div>
</section>




  <ion-content class="content-prin">
    <ion-list [inset]="true"  *ngFor="let d of results">
      <ion-item (click)="presentAlert(d,selectedSegment)">
       <!-- <ion-avatar slot="start">
          <img src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>-->
        <ion-label>{{d.media_name}}<br>{{d.date}}</ion-label>
        <ion-label slot="end">{{d.score}} <ion-icon name="star" style="color: gold;"></ion-icon></ion-label>
        <ion-badge [ngStyle]="getBadgeColor(d.type_name)">{{d.type_name}}</ion-badge>
        
      <!--   <ion-label>Categoria: {{d.type_name}}
          <br>
          <div *ngIf="selectedSegment === 'series' || selectedSegment === 'anime'">
            Temporada: {{d.Temp}} 
          </div>
          <div *ngIf="selectedSegment === 'juegos'">
            Horas: {{d.hours}}
          </div>
          <div *ngIf="selectedSegment === 'libros'">
            Paginas: {{d.pages}} 
          </div>
        </ion-label>-->

      </ion-item>
    </ion-list>



    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon class="icon2" name="chevron-up-circle"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
        <ion-fab-button (click)="abrirModal()">
          <ion-icon class="icon2" name="add"></ion-icon>
        </ion-fab-button>
        <ion-fab-button>
          <ion-icon class="icon2" name="home"></ion-icon>
        </ion-fab-button>
      </ion-fab-list>
    </ion-fab> 




   <!--<ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Modal</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false)">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni illum quidem recusandae ducimus quos
            reprehenderit. Veniam, molestias quos, dolorum consequuntur nisi deserunt omnis id illo sit cum qui. Eaque,
            dicta.
          </p>
        </ion-content>
      </ng-template>
    </ion-modal>--> 




  </ion-content>

  <ion-menu side="end" contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Filtros</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <ion-item>
          <ion-select  placeholder="Por anio" (ionChange)="filterYear($event)">
            <ion-select-option>2019</ion-select-option>
            <ion-select-option>2020</ion-select-option>
            <ion-select-option>2021</ion-select-option>
            <ion-select-option>2022</ion-select-option>
            <ion-select-option>2023</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-select  placeholder="Por categoria" [(ngModel)]="typeM" (ionChange)="filterType($event)">
            <ion-select-option *ngFor="let t of type">{{t.name}}</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-select   placeholder="Por Puntaje" (ionChange)="filterScore($event)">
            <ion-select-option>1</ion-select-option>
            <ion-select-option>2</ion-select-option>
            <ion-select-option>3</ion-select-option>
            <ion-select-option>4</ion-select-option>
            <ion-select-option>5</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>
  


